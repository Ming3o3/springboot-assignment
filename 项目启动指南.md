# é¡¹ç›®å¯åŠ¨æŒ‡å—

## å‰ç½®å‡†å¤‡

### 1. è½¯ä»¶ç¯å¢ƒ
è¯·ç¡®ä¿å·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | ä¸‹è½½åœ°å€ |
|------|---------|---------|
| JDK | 1.8+ | https://www.oracle.com/java/technologies/downloads/ |
| Maven | 3.6+ | https://maven.apache.org/download.cgi |
| MySQL | 8.0+ | https://dev.mysql.com/downloads/mysql/ |
| Redis | 5.0+ | https://redis.io/download |
| IDE | IntelliJ IDEA/Eclipse | https://www.jetbrains.com/idea/ |

### 2. éªŒè¯ç¯å¢ƒ
åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ç¯å¢ƒï¼š

```bash
# éªŒè¯Javaç‰ˆæœ¬
java -version

# éªŒè¯Mavenç‰ˆæœ¬
mvn -version

# éªŒè¯MySQLç‰ˆæœ¬
mysql --version

# éªŒè¯Redis
redis-cli --version
```

## æ•°æ®åº“é…ç½®

### 1. åˆ›å»ºæ•°æ®åº“

å¯åŠ¨MySQLæœåŠ¡åï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

```bash
# ç™»å½•MySQL
mysql -u root -p

# è¾“å…¥å¯†ç åï¼Œæ‰§è¡ŒSQLè„šæœ¬
source /path/to/springboot/database/schema.sql

# æˆ–è€…åœ¨MySQLå‘½ä»¤è¡Œä¸­ç›´æ¥æ‰§è¡Œï¼š
```

```sql
CREATE DATABASE IF NOT EXISTS product_management_system 
DEFAULT CHARACTER SET utf8mb4 
DEFAULT COLLATE utf8mb4_unicode_ci;

USE product_management_system;

-- ç„¶åå¤åˆ¶å¹¶æ‰§è¡Œ database/schema.sql ä¸­çš„æ‰€æœ‰SQLè¯­å¥
```

### 2. éªŒè¯æ•°æ®åº“

```sql
-- æŸ¥çœ‹æ‰€æœ‰è¡¨
SHOW TABLES;

-- åº”è¯¥æ˜¾ç¤ºï¼š
-- +----------------------------------------+
-- | Tables_in_product_management_system    |
-- +----------------------------------------+
-- | operation_logs                         |
-- | products                               |
-- | roles                                  |
-- | user_roles                             |
-- | users                                  |
-- +----------------------------------------+

-- æŸ¥çœ‹é»˜è®¤æ•°æ®
SELECT * FROM users;
SELECT * FROM roles;
```

## Redisé…ç½®

### Windowsç¯å¢ƒ
```bash
# å¯åŠ¨RedisæœåŠ¡å™¨
redis-server

# æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œæµ‹è¯•è¿æ¥
redis-cli
127.0.0.1:6379> ping
PONG
```

### Linux/Macç¯å¢ƒ
```bash
# å¯åŠ¨Redis
redis-server &

# æµ‹è¯•è¿æ¥
redis-cli ping
```

## é¡¹ç›®é…ç½®

### 1. ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯

ç¼–è¾‘ `src/main/resources/application.yml`ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/product_management_system?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
    username: root          # ä¿®æ”¹ä¸ºä½ çš„MySQLç”¨æˆ·å
    password: root          # ä¿®æ”¹ä¸ºä½ çš„MySQLå¯†ç 
```

### 2. ä¿®æ”¹Redisè¿æ¥ä¿¡æ¯

å¦‚æœRedisæœ‰å¯†ç æˆ–ä½¿ç”¨éé»˜è®¤é…ç½®ï¼š

```yaml
spring:
  redis:
    host: localhost         # Redisåœ°å€
    port: 6379             # Redisç«¯å£
    password:              # Rediså¯†ç ï¼ˆå¦‚æœæœ‰ï¼‰
    database: 0            # ä½¿ç”¨çš„æ•°æ®åº“ç´¢å¼•
```

### 3. åˆ›å»ºRemember-Meæ•°æ®è¡¨

ç¬¬ä¸€æ¬¡å¯åŠ¨å‰ï¼Œåœ¨ `SecurityConfig.java` ä¸­å–æ¶ˆä»¥ä¸‹æ³¨é‡Šï¼š

```java
@Bean
public PersistentTokenRepository persistentTokenRepository() {
    JdbcTokenRepositoryImpl tokenRepository = new JdbcTokenRepositoryImpl();
    tokenRepository.setDataSource(dataSource);
    // å–æ¶ˆä¸‹é¢è¿™è¡Œçš„æ³¨é‡Šï¼Œè®©Spring Securityè‡ªåŠ¨åˆ›å»ºremember-meè¡¨
    tokenRepository.setCreateTableOnStartup(true);  // ğŸ‘ˆ å–æ¶ˆæ³¨é‡Š
    return tokenRepository;
}
```

**é‡è¦**ï¼šç¬¬ä¸€æ¬¡å¯åŠ¨æˆåŠŸåï¼Œå¿…é¡»é‡æ–°æ³¨é‡Šè¿™è¡Œä»£ç ï¼Œå¦åˆ™æ¯æ¬¡å¯åŠ¨éƒ½ä¼šå°è¯•åˆ›å»ºè¡¨å¯¼è‡´æŠ¥é”™ï¼

## å¯åŠ¨é¡¹ç›®

### æ–¹å¼ä¸€ï¼šä½¿ç”¨IDEå¯åŠ¨ï¼ˆæ¨èï¼‰

#### IntelliJ IDEA
1. æ‰“å¼€é¡¹ç›®ï¼šFile â†’ Open â†’ é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•
2. ç­‰å¾…Mavenä¾èµ–ä¸‹è½½å®Œæˆ
3. æ‰¾åˆ° `SpringbootApplication.java`
4. å³é”® â†’ Run 'SpringbootApplication'

#### Eclipse
1. å¯¼å…¥é¡¹ç›®ï¼šFile â†’ Import â†’ Maven â†’ Existing Maven Projects
2. é€‰æ‹©é¡¹ç›®æ ¹ç›®å½•
3. æ‰¾åˆ° `SpringbootApplication.java`
4. å³é”® â†’ Run As â†’ Java Application

### æ–¹å¼äºŒï¼šä½¿ç”¨Mavenå‘½ä»¤å¯åŠ¨

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/springboot

# æ¸…ç†å¹¶ç¼–è¯‘
mvn clean package -DskipTests

# è¿è¡Œé¡¹ç›®
java -jar target/project-0.0.1-SNAPSHOT.jar

# æˆ–è€…ç›´æ¥ä½¿ç”¨Mavenæ’ä»¶è¿è¡Œ
mvn spring-boot:run
```

## è®¿é—®ç³»ç»Ÿ

### 1. å¯åŠ¨æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š

```
  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.7.6)

2025-12-23 10:00:00 [main] INFO  c.g.p.SpringbootApplication - Started SpringbootApplication in 5.123 seconds
```

### 2. è®¿é—®åœ°å€

- **ç³»ç»Ÿé¦–é¡µ**: http://localhost:8080
- **ç™»å½•é¡µé¢**: http://localhost:8080/login
- **æ³¨å†Œé¡µé¢**: http://localhost:8080/register
- **äº§å“åˆ—è¡¨**: http://localhost:8080/product/list
- **Druidç›‘æ§**: http://localhost:8080/druid/index.html

### 3. é»˜è®¤è´¦æˆ·

| ç”¨æˆ·å | å¯†ç  | è§’è‰² | æƒé™ |
|--------|------|------|------|
| admin  | admin123 | ç®¡ç†å‘˜ | å¢åˆ æ”¹æŸ¥ |
| user   | admin123 | æ™®é€šç”¨æˆ· | ä»…æŸ¥çœ‹ |

## å¸¸è§é—®é¢˜

### é—®é¢˜1ï¼šç«¯å£è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Web server failed to start. Port 8080 was already in use.
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# Windows - æŸ¥æ‰¾å ç”¨8080ç«¯å£çš„è¿›ç¨‹
netstat -ano | findstr :8080
# æ€æ­»è¿›ç¨‹ï¼ˆæ›¿æ¢<PID>ä¸ºå®é™…è¿›ç¨‹IDï¼‰
taskkill /PID <PID> /F

# Linux/Mac
lsof -i:8080
kill -9 <PID>

# æˆ–è€…ä¿®æ”¹application.ymlä¸­çš„ç«¯å£å·
server:
  port: 8081
```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨
2. æ£€æŸ¥ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥æ•°æ®åº“åç§°æ˜¯å¦æ­£ç¡®
4. æ£€æŸ¥MySQLæ˜¯å¦å…è®¸è¿œç¨‹è¿æ¥

### é—®é¢˜3ï¼šRedisè¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Unable to connect to Redis
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. å¯åŠ¨RedisæœåŠ¡ï¼š`redis-server`
2. æ£€æŸ¥Redisé…ç½®æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥Redisæ˜¯å¦è®¾ç½®äº†å¯†ç 

### é—®é¢˜4ï¼šLombokä¸ç”Ÿæ•ˆ

**é”™è¯¯ä¿¡æ¯**ï¼š
```
cannot find symbol: method getUsername()
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. IntelliJ IDEAï¼šå®‰è£…Lombokæ’ä»¶
   - File â†’ Settings â†’ Plugins â†’ æœç´¢"Lombok" â†’ Install
   - é‡å¯IDE
2. Eclipseï¼š
   - ä¸‹è½½lombok.jar
   - åŒå‡»è¿è¡Œï¼Œé€‰æ‹©Eclipseå®‰è£…ç›®å½•
   - é‡å¯Eclipse

### é—®é¢˜5ï¼šRemember-Meè¡¨ä¸å­˜åœ¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Table 'product_management_system.persistent_logins' doesn't exist
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
åœ¨SecurityConfig.javaä¸­ä¸´æ—¶å¯ç”¨è‡ªåŠ¨å»ºè¡¨ï¼š
```java
tokenRepository.setCreateTableOnStartup(true);
```
å¯åŠ¨ä¸€æ¬¡åè®°å¾—æ”¹å›falseï¼

### é—®é¢˜6ï¼šMavenä¾èµ–ä¸‹è½½æ…¢

**è§£å†³æ–¹æ¡ˆ**ï¼š
é…ç½®é˜¿é‡Œäº‘Mavené•œåƒï¼Œç¼–è¾‘ `~/.m2/settings.xml`ï¼š

```xml
<mirrors>
    <mirror>
        <id>aliyun</id>
        <mirrorOf>central</mirrorOf>
        <name>Aliyun Maven</name>
        <url>https://maven.aliyun.com/repository/public</url>
    </mirror>
</mirrors>
```

## åŠŸèƒ½æµ‹è¯•æ¸…å•

å¯åŠ¨æˆåŠŸåï¼Œå»ºè®®æŒ‰ä»¥ä¸‹é¡ºåºæµ‹è¯•åŠŸèƒ½ï¼š

### 1. ç”¨æˆ·æ³¨å†Œ âœ…
- [ ] è®¿é—® http://localhost:8080/register
- [ ] æµ‹è¯•ç”¨æˆ·åé•¿åº¦æ ¡éªŒï¼ˆ3-20å­—ç¬¦ï¼‰
- [ ] æµ‹è¯•å¯†ç é•¿åº¦æ ¡éªŒï¼ˆ6-20å­—ç¬¦ï¼‰
- [ ] æµ‹è¯•ä¸¤æ¬¡å¯†ç ä¸€è‡´æ€§
- [ ] æµ‹è¯•é‚®ç®±æ ¼å¼æ ¡éªŒ
- [ ] æµ‹è¯•ç”¨æˆ·åé‡å¤æ£€æµ‹
- [ ] æµ‹è¯•é‚®ç®±é‡å¤æ£€æµ‹
- [ ] æˆåŠŸæ³¨å†Œæ–°ç”¨æˆ·

### 2. ç”¨æˆ·ç™»å½• âœ…
- [ ] ä½¿ç”¨é»˜è®¤è´¦æˆ·ç™»å½•ï¼ˆadmin/admin123ï¼‰
- [ ] æµ‹è¯•é”™è¯¯å¯†ç æç¤º
- [ ] æµ‹è¯•"è®°ä½æˆ‘"åŠŸèƒ½
- [ ] å…³é—­æµè§ˆå™¨é‡æ–°æ‰“å¼€ï¼ŒéªŒè¯å…ç™»å½•

### 3. äº§å“æŸ¥è¯¢ âœ…
- [ ] æŸ¥çœ‹äº§å“åˆ—è¡¨
- [ ] æµ‹è¯•äº§å“åç§°æœç´¢
- [ ] æµ‹è¯•åˆ†ç±»ç­›é€‰
- [ ] æµ‹è¯•ä»·æ ¼åŒºé—´æŸ¥è¯¢
- [ ] æµ‹è¯•åˆ†é¡µåŠŸèƒ½

### 4. äº§å“ç®¡ç†ï¼ˆç®¡ç†å‘˜ï¼‰ âœ…
- [ ] ä½¿ç”¨adminè´¦æˆ·ç™»å½•
- [ ] æ–°å¢äº§å“
- [ ] ç¼–è¾‘äº§å“
- [ ] åˆ é™¤äº§å“ï¼ˆå¸¦ç¡®è®¤æç¤ºï¼‰
- [ ] éªŒè¯ç¼“å­˜æ¸…é™¤

### 5. æƒé™æ§åˆ¶ âœ…
- [ ] ä½¿ç”¨userè´¦æˆ·ç™»å½•
- [ ] éªŒè¯æ— æ³•çœ‹åˆ°"æ–°å¢"æŒ‰é’®
- [ ] éªŒè¯æ— æ³•è®¿é—®ç¼–è¾‘/åˆ é™¤åŠŸèƒ½

### 6. æ—¥å¿—è®°å½• âœ…
- [ ] æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—è¾“å‡º
- [ ] éªŒè¯æ“ä½œè®°å½•åˆ°æ•°æ®åº“
- [ ] æŸ¥è¯¢operation_logsè¡¨

## å¼€å‘è°ƒè¯•

### 1. çƒ­éƒ¨ç½²

é¡¹ç›®å·²é…ç½®Spring Boot DevToolsï¼Œä¿®æ”¹ä»£ç åè‡ªåŠ¨é‡å¯ï¼š

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-devtools</artifactId>
    <scope>runtime</scope>
    <optional>true</optional>
</dependency>
```

### 2. æŸ¥çœ‹SQLæ—¥å¿—

åœ¨application.ymlä¸­å·²é…ç½®SQLæ—¥å¿—è¾“å‡ºï¼š

```yaml
mybatis-plus:
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
```

### 3. Redisç›‘æ§

```bash
# è¿æ¥Rediså®¢æˆ·ç«¯
redis-cli

# æŸ¥çœ‹æ‰€æœ‰é”®
KEYS *

# æŸ¥çœ‹äº§å“ç¼“å­˜
KEYS products::*

# æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
FLUSHDB
```

### 4. æ•°æ®åº“ç›‘æ§

è®¿é—®Druidç›‘æ§é¢æ¿ï¼š
- URL: http://localhost:8080/druid/index.html
- ç”¨æˆ·å: admin
- å¯†ç : admin

## åœæ­¢é¡¹ç›®

### IDEæ–¹å¼
ç‚¹å‡»IDEä¸­çš„åœæ­¢æŒ‰é’®å³å¯

### å‘½ä»¤è¡Œæ–¹å¼
```bash
# Ctrl + C åœæ­¢è¿è¡Œ

# æˆ–è€…æ‰¾åˆ°è¿›ç¨‹å¹¶æ€æ­»
# Windows
taskkill /F /IM java.exe

# Linux/Mac
ps aux | grep spring
kill -9 <PID>
```

## ä¸‹ä¸€æ­¥

é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œå»ºè®®ï¼š

1. é˜…è¯» [README.md](README.md) äº†è§£é¡¹ç›®è¯¦æƒ…
2. é˜…è¯» [ä»£ç è§„èŒƒè¯´æ˜.md](ä»£ç è§„èŒƒè¯´æ˜.md) äº†è§£ä»£ç è§„èŒƒ
3. æŸ¥çœ‹ [database/ERå›¾è¯´æ˜.md](database/ERå›¾è¯´æ˜.md) äº†è§£æ•°æ®åº“è®¾è®¡
4. å¼€å§‹å¼€å‘æ–°åŠŸèƒ½æˆ–è¿›è¡Œæµ‹è¯•

## æŠ€æœ¯æ”¯æŒ

å¦‚é‡åˆ°å…¶ä»–é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ—¥å¿—æ–‡ä»¶ï¼š`logs/product-management-system.log`
2. æ§åˆ¶å°è¾“å‡º
3. æ•°æ®åº“è¿æ¥çŠ¶æ€
4. Redisè¿æ¥çŠ¶æ€

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2025-12-23  
**ç»´æŠ¤è€…**: GZIST
